# ✅ Render.com deployment requirements - All dependencies flattened
# CRITICAL: databases package for Manager Agent system
databases[postgresql]>=0.7.0
asyncpg>=0.29.0

# ── Core FastAPI runtime ────────────────────────────────────────────────
fastapi>=0.110.0
uvicorn>=0.34.0
httpx>=0.27.0
pydantic>=2.10,<3
python-dotenv>=1.0.0
requests>=2.0,<3
typing-extensions>=4.12.2,<5
tenacity>=8.0.0  # Retry logic for substrate HTTP client (Phase 3.1 BFF)

# ── Claude Agent SDK (Phase 4: Agent Integration) ─────────────────────
claude-agent-sdk @ git+https://github.com/Kvkthecreator/claude-agentsdk-opensource.git@main
pyyaml>=6.0  # For agent configuration files

# ── Supabase integration ──────────────────────────────────────────────
# Using PyPI version instead of git for Render reliability
supabase>=2.1.0,<3.0.0

# ── Validation / schema ────────────────────────────────────────────
jsonschema>=4.21

# ── Development / testing (Render needs these) ─────────────────────────
pytest
pytest-asyncio
pytest-mock
ruff
pre-commit

# ── LLM integrations (using PyPI versions for stability) ──────────────
openai>=1.66.5

# ── Documentation tooling ─────────────────────────────────────────────  
griffe>=1.5.6,<2
mkdocs-static-i18n>=1.3.0
types-requests>=2.0,<3

# ── MCP (Model Context Protocol) ──────────────────────────────────────
mcp>=1.6.0,<2; python_version >= "3.10"

# ── File Processing (Memory-First approach) ───────────────────────────
pymupdf>=1.24.0
httpx>=0.27.0  # For downloading Supabase Storage files

# ── OCR Processing (optional for direct file bytes) ───────────────────
# Pillow (PIL) for image processing
Pillow>=10.0.0
# pytesseract for OCR - requires tesseract system package
pytesseract>=0.3.10
